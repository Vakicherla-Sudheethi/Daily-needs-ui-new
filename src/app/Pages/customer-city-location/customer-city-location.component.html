
<label for="citySelect">Select City:</label>
<div>
    <!-- <input type="number" id="citySelect" class="form-control" [(ngModel)]="cityID"> -->
    <select  [(ngModel)]="cityId" (change)="getLocationsByCityId()">

        <option *ngFor="let item of cities" [value]="item.cityId">{{item.cityName}}</option>
    </select>
  </div>

  <label for="citySelect">Select Location</label>
<div> 
    <!-- <input type="number" id="citySelect" class="form-control" [(ngModel)]="cityId"> -->
    <select  [(ngModel)]="lid" (change)="getProductsByLocation()" >

        <option *ngFor="let item of locations" [value]="item.locId">{{item.locName}}</option>
    </select>
</div>

<!-- <label for="searchInput">Search Products:</label>
<input type="text" id="searchInput" [(ngModel)]="searchTerm">
<button (click)="searchProducts()">Search</button> -->
<div>
  <p>Products in Selected Location:</p>
  <table>
      <thead>
          <tr>
              <th>Product Name</th>
              <th>Price</th>
              <th>Quantity</th>
              <th>Offer Percentage</th>
              <th>Actions</th>
          </tr>
      </thead>
      <tbody>
          <tr *ngFor="let item of productOffers">
              <td>{{item.productName}}</td>
              <td>{{item.price}}</td>
              <!-- <td>{{item.quantity}}</td> -->
              <!-- newly addded -->
              <td>
                <select (change)="selectQty($event)">
                  <option>1</option>
                  <option>2</option>
                  <option>3</option>
                </select>

              </td>
              <td>{{item.offerPercentage}}</td>
              <td><button (click)="addToCart(item.productID)">Add to Cart</button></td>
          </tr>
      </tbody>
  </table>
</div>

<!-- <div >
  <p>Products in Selected Location:</p>
  <ul>
    <li *ngFor="let product of products">
      {{ product.productName }} - Price: {{ product.price }}
    </li>
  </ul>
</div> -->
<!-- <label for="productSelect">Select Product:</label>
<div>
    <select [(ngModel)]="pid">
        <option *ngFor="let item of products" [value]="item.productID">{{item.productName}}</option>
    </select>
</div> -->
<!-- <div class="container">
    <table class="table table-bordered table-responsive">
        <thead>
            <tr>
                <th>Location ID</th>
                <th>Location Name</th>
                <th>City ID</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let location of locations">
                <td>{{ location.locId }}</td>
                <td>{{ location.locName }}</td>
                <td>{{ location.cityId }}</td>
                <td> -->
                     <!--<button class="btn btn-danger" (click)="delete(location.locId)">Delete</button>  -->
                     <!-- <button class="btn btn-info" (click)="edit(location.locID)">Edit</button> -->
                    <!-- <button class="btn btn-secondary" (click)="getId(location.locID)">View</button>  -->
                 <!-- </td>
            </tr>
        </tbody>
    </table>
</div>  -->

<!-- <div>
    <h2>Select a City</h2>
    <select [(ngModel)]="selectedCity" (change)="onCityChange(selectedCity)">
      <option *ngFor="let city of cityNames" [value]="city">{{ city }}</option>
    </select>
  </div>
  <h2>Select Location</h2>
  <select [(ngModel)]="selectedCity">
    <option *ngFor="let location of locations" [value]="location.locName">
      {{ location.locName }}
    </option>
  </select>
   -->
  
  <!-- <div *ngIf="locations.length === 0 && selectedCity">
    <p>No locations found for {{ selectedCity }}</p>
  </div>
  
  <div *ngIf="locations.length === 0 && !selectedCity">
    <p>Select a city to see locations</p>
  </div> -->
  
<!-- <button (click)="getId(lid)">View Location Details</button> -->
